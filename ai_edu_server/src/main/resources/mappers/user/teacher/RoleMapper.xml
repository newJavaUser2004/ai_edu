<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.coder_mart_server.user.user_modules.user_teacher.mappers.RoleMapper">
<!--    从用户id中获取学生用户-->
    <select id="selectStudentFromUserIdList" resultType="long">
        select
            tu.user_id
        from
            t_user tu
        left join
            t_role_roster trr
        on
            tu.user_id = trr.user_id
        left join
            t_role tr
        on
            trr.role_id = tr.role_id
        where
            tr.role_type = 0
        and
            tu.user_id
        in
        <foreach collection="userIdList" item="userId" separator="," open="(" close=")">
            #{userId}
        </foreach>
    </select>
</mapper>